
// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.2 (Phaser v2.6.2)


/**
 * PrefabUIMissionPanel.
 * @param {Phaser.Game} aGame A reference to the currently running game.
 * @param {Phaser.Group} aParent The parent Group (or other {@link DisplayObject}) that this group will be added to.
    If undefined/unspecified the Group will be added to the {@link Phaser.Game#world Game World}; if null the Group will not be added to any parent.
 * @param {string} aName A name for this group. Not used internally but useful for debugging.
 * @param {boolean} aAddToStage If true this group will be added directly to the Game.Stage instead of Game.World.
 * @param {boolean} aEnableBody If true all Sprites created with {@link #create} or {@link #createMulitple} will have a physics body created on them. Change the body type with {@link #physicsBodyType}.
 * @param {number} aPhysicsBodyType The physics body type to use when physics bodies are automatically added. See {@link #physicsBodyType} for values.
 */
function PrefabUIMissionPanel(aGame, aParent, aName, aAddToStage, aEnableBody, aPhysicsBodyType) {
	
	Phaser.Group.call(this, aGame, aParent, aName, aAddToStage, aEnableBody, aPhysicsBodyType);
	aGame.missionPanel = this.game.add.sprite(0.0, 0.0, 'UIMissionPanel', null, this);
	
	var _text = this.game.add.text(141.0, 22.0, 'This is a text', {"font":"22px 나눔바른고딕","fill":"#ffffff","stroke":"#af2766","strokeThickness":6}, this);
	
	aGame.missionPanel.missionText = _text;
	
	// 190301 미션 패널에 캐릭터 아이콘 표시 추가.
	var _icon = this.game.add.sprite(135.0, 17.0, 'MissionIcon0');
	_icon.visible = false;
	_icon.parent = this;
	aGame.missionPanel.charIcon = _icon;
	
	this.aGameObj = aGame;

	this.visible = false;
	
}

/** @type Phaser.Group */
var PrefabUIMissionPanel_proto = Object.create(Phaser.Group.prototype);
PrefabUIMissionPanel.prototype = PrefabUIMissionPanel_proto;
PrefabUIMissionPanel.prototype.constructor = PrefabUIMissionPanel;

/* --- end generated code --- */
// -- user code here --

PrefabUIMissionPanel.prototype.show = function(msg, missionType, charType) {
	// 190301 미션 패널에 캐릭터 아이콘 표시 추가.
	if (missionType == 0 || missionType == 2 || missionType == 4 || missionType == 6 || 
			missionType == 7 || missionType == 8) {
		var textureName = "MissionIcon"+charType;
		this.aGameObj.missionPanel.charIcon.loadTexture(textureName, 0, false);
		this.aGameObj.missionPanel.charIcon.visible = true;
//		gNewItemInfoPopup.children[6].loadTexture('BItemIcon'+_itemIdx[_idx], 0, false);		
		this.aGameObj.missionPanel.missionText.x = (141 + 33);
		
	}
	
	this.visible = true;
	
	this.aGameObj.missionPanel.missionText.setText(msg, true);
	
	var tweenData = { x: 720, y: 81 };
	this.x = tweenData.x;
	this.y = tweenData.y;
	this.aGameObj.add.tween(this).to( { x: 0, y: 81 }, 150, Phaser.Easing.Linear.None)
	.start()
	.onComplete.add(this.hide, this);
};

PrefabUIMissionPanel.prototype.updateText = function(msg) {
	this.aGameObj.missionPanel.missionText.setText(msg, true);	
};


PrefabUIMissionPanel.prototype.hide = function() {
////	this.game.time.events.repeat(300, 1, function() {
//		this.visible = false;
////	}, this);

};
