
// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.3 (Phaser v2.6.2)


/**
 * UserInfoNormalPopup.
 * @param {Phaser.Game} aGame A reference to the currently running game.
 * @param {Phaser.Group} aParent The parent Group (or other {@link DisplayObject}) that this group will be added to.    If undefined/unspecified the Group will be added to the {@link Phaser.Game#world Game World}; if null the Group will not be added to any parent.
 * @param {string} aName A name for this group. Not used internally but useful for debugging.
 * @param {boolean} aAddToStage If true this group will be added directly to the Game.Stage instead of Game.World.
 * @param {boolean} aEnableBody If true all Sprites created with {@link #create} or {@link #createMulitple} will have a physics body created on them. Change the body type with {@link #physicsBodyType}.
 * @param {number} aPhysicsBodyType The physics body type to use when physics bodies are automatically added. See {@link #physicsBodyType} for values.
 */
function UserInfoNormalPopup(aGame, aParent, aName, aAddToStage, aEnableBody, aPhysicsBodyType) {
	
	Phaser.Group.call(this, aGame, aParent, aName, aAddToStage, aEnableBody, aPhysicsBodyType);
	this.game.add.sprite(0.0, 0.0, 'PopPanelFriendInvite', null, this);
	
	this.game.add.sprite(192.0, 270.0, 'STitleUserWinningRate', null, this);
	
	this.game.add.sprite(132.0, 35.0, 'TitleSelectUserInfo', null, this);
	
	this.game.add.sprite(132.0, 100.0, 'STitleNickname', null, this);
	
	this.game.add.button(357.0, -30.0, 'BtnExit', offUserInfoNormalPopup, this, 1, 0, 2, null, this);
	
	this.game.add.sprite(58.0, 135.0, 'BarL2', null, this);
	
	this.game.add.sprite(108.0, 305.0, 'BarL2', null, this);
	
	this.game.add.sprite(355.0, 100.0, 'STitleGameReady', null, this);
	
	var _isReady = new MuteControl(this.game, this);
	_isReady.position.setTo(379.0, 154.0);
	
	var _txt_nickname = this.game.add.text(188.0, 157.0, '유저네임여덟글자', {"font":"bold 20px Arial","fill":"#ffffff"}, this);
	_txt_nickname.anchor.setTo(0.5, 0.5);
	
	var _txt_winrate = this.game.add.text(239.0, 327.0, '999승 999무 999패', {"font":"bold 20px Arial","fill":"#ffffff"}, this);
	_txt_winrate.anchor.setTo(0.5, 0.5);
	
	var _mask = this.game.add.button(346.0, 92.0, 'BtnInputTxt', null, this, null, 3, null, null, this);
	_mask.scale.setTo(1.0, 3.0);
	_mask.alpha = 0.0;
	
	var _team_color = this.game.add.group(this);
	
	this.game.add.sprite(204.0, 185.0, 'STitleTeamColor', null, _team_color);
	
	this.game.add.sprite(183.0, 220.0, 'BarS', null, _team_color);
	
	var _clan_name = this.game.add.group(this);
	
	this.game.add.sprite(205.0, 185.0, 'STitleClanName', null, _clan_name);
	
	this.game.add.sprite(108.0, 220.0, 'BarL2', null, _clan_name);
	
	var _txt_color = this.game.add.text(238.0, 241.0, '빨강', {"font":"bold 20px Arial","fill":"#ffffff"}, this);
	_txt_color.anchor.setTo(0.5, 0.5);
	
	this.game.add.button(155.0, 350.0, 'BtnCheck', offUserInfoNormalPopup, this, 1, 0, 2, null, this);
	
	
	
	// fields
	
	this.fIsReady = _isReady;
	this.fTxt_nickname = _txt_nickname;
	this.fTxt_winrate = _txt_winrate;
	this.fTeam_color = _team_color;
	this.fClan_name = _clan_name;
	this.fTxt_color = _txt_color;
	
}

/** @type Phaser.Group */
var UserInfoNormalPopup_proto = Object.create(Phaser.Group.prototype);
UserInfoNormalPopup.prototype = UserInfoNormalPopup_proto;
UserInfoNormalPopup.prototype.constructor = UserInfoNormalPopup;

/* --- end generated code --- */
// -- user code here --

UserInfoNormalPopup.prototype.init = function(data, roomType) {
	this.fTxt_nickname.setText(data.NICKNAME);
	this.fIsReady.setValue(data.READY);
	
	if(roomType == '자유') {
		this.fTxt_color.setText((data.TEAM == 'RED')?('빨강'):('파랑'));
		this.fTeam_color.visible = true;
		this.fClan_name.visible = false;
	}
	else {
		this.fTxt_color.setText(data.CLAN);
		this.fTeam_color.visible = false;
		this.fClan_name.visible = true;
	}
	this.fTxt_winrate.setText(data.RESULT.win + '승 ' + data.RESULT.draw +'무 ' + data.RESULT.lose + '패');
};

var offUserInfoNormalPopup = function(obj) {
	obj.game.audioManager.playSfx("Click");
	
	obj.game.popupManager.closePopup("userInfo");
	obj.parent.destroy();
};
